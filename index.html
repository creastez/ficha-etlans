<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ficha ETLANS</title>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
:root{
  --accent:#7b82ff;
  --bg:#0b0d12;
  --panel:#141826;
  --panel2:#1c2140;
  --ink:#e8e9f1;
  --muted:#9aa0c3;
  --border:#2a2f4a;
}
[data-theme="red"]{--accent:#ff5c5c}
[data-theme="gold"]{--accent:#e6c15a}
[data-theme="emerald"]{--accent:#4cd3a3}
[data-theme="rose"]{--accent:#c97bff}
[data-theme="white"]{--accent:#eaeaea;--ink:#111;--bg:#f2f2f2;--panel:#fff;--panel2:#f5f5f5;--border:#ccc}
*{box-sizing:border-box}
body{
  margin:0;
  background:radial-gradient(circle at top,#151a2e,var(--bg) 70%);
  color:var(--ink);
  font-family:Inter,sans-serif;
  overflow-x:hidden;
}
.sheet{
  max-width:1400px;
  margin:24px auto;
  padding:28px;
  background:linear-gradient(180deg,var(--panel),var(--bg));
  border:1px solid var(--border);
  border-radius:18px;
  box-shadow:0 0 40px #000;
}
.title{
  font-family:Cinzel,serif;
  text-align:center;
  font-size:46px;
  letter-spacing:3px;
  margin-bottom:30px;
}
.section{margin-bottom:32px}
.section-title{
  font-family:Cinzel,serif;
  font-size:14px;
  letter-spacing:1px;
  background:linear-gradient(90deg,var(--accent),transparent);
  padding:8px 16px;
  border-radius:12px;
  margin-bottom:14px;
}
.row{display:flex;gap:20px;flex-wrap:wrap}
.field{flex:1;min-width:220px;display:flex;flex-direction:column;gap:4px}
.field label{font-size:12px;color:var(--muted)}
input,textarea{
  background:transparent;
  border:none;
  border-bottom:1px solid var(--border);
  color:var(--ink);
  padding:6px;
  font-family:Inter,sans-serif;
}
textarea{resize:none}
.small{width:80px}

/* ATRIBUTOS */
.attrs{display:grid;grid-template-columns:repeat(3,1fr);gap:26px}
.attr-block{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px}
.attr{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.attr span{font-size:13px}

/* PERICIAS */
.pericias-wrap{display:grid;grid-template-columns:360px 1fr;gap:30px}
.pericias{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px}
.pericia{display:grid;grid-template-columns:1fr 70px;gap:10px;align-items:center;margin-bottom:8px;cursor:pointer}
.pericia span{font-size:13px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.pericia input{text-align:right}

/* COMBATE */
.combate{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:16px}
.combate table{width:100%;border-collapse:collapse;table-layout:fixed}
.combate th,.combate td{border-bottom:1px solid var(--border);padding:8px;font-size:12px}
.combate th{color:var(--muted)}

/* STATUS */
.status{display:flex;gap:18px;flex-wrap:wrap;margin-top:18px}
.status-box{background:var(--panel2);border:1px solid var(--border);border-radius:14px;width:130px;padding:14px;text-align:center}
.status-box label{font-size:11px;color:var(--muted)}
.status-box input{margin-top:6px;font-size:20px;text-align:center;border-bottom:1px solid var(--border)}

/* EFEITOS */
.effects-wrapper{background:var(--panel2);border:1px solid var(--border);border-radius:14px;padding:12px;overflow:hidden}
.effects{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:6px}
.effects label{font-size:12px;white-space:nowrap}

/* LISTAS */
.list{display:flex;flex-direction:column;gap:12px}
.list-item{background:var(--panel2);border:1px solid var(--border);border-radius:14px;padding:12px;display:grid;grid-template-columns:1fr 80px 80px;gap:10px;cursor:pointer}
.list-item textarea{grid-column:1/-1;min-height:80px}

.large-notes textarea{min-height:320px;width:100%;border:1px solid var(--border);border-radius:14px;padding:12px}

button{
  background:linear-gradient(135deg,var(--accent),#4b54ff);
  border:none;
  color:#fff;
  padding:10px 18px;
  border-radius:14px;
  font-size:12px;
  cursor:pointer;
}
.floating{position:fixed;bottom:20px;right:20px;display:flex;gap:14px;z-index:10}
.theme-panel{position:fixed;bottom:80px;right:20px;display:none;gap:12px}
.theme-circle{width:30px;height:30px;border-radius:50%;cursor:pointer;border:2px solid #000}

.modal{position:fixed;inset:0;background:#000a;display:none;align-items:center;justify-content:center}
.modal-content{background:var(--panel);border:1px solid var(--border);border-radius:18px;padding:20px;width:380px}
.modal-content textarea{width:100%;min-height:120px;border:1px solid var(--border)}
</style>
</head>
<body>
<div class="sheet" id="sheet">
<div class="title">ETLANS</div>

<!-- IDENTIFICAÇÃO -->
<div class="section">
  <div class="row">
    <div class="field"><label>Nome do Personagem</label><input></div>
    <div class="field"><label>Nome do Jogador</label><input></div>
    <div class="field"><label>Histórico</label><input></div>
    <div class="field"><label>Arquétipo</label><input></div>
  </div>
</div>

<!-- ATRIBUTOS -->
<div class="attrs">
  <div class="attr-block"><div class="section-title">Físicos</div>
    <div class="attr"><span>Força</span><input class="small" type="number"></div>
    <div class="attr"><span>Destreza</span><input class="small" type="number"></div>
    <div class="attr"><span>Vigor</span><input class="small" type="number"></div>
  </div>
  <div class="attr-block"><div class="section-title">Sociais</div>
    <div class="attr"><span>Aparência</span><input class="small" type="number"></div>
    <div class="attr"><span>Carisma</span><input class="small" type="number"></div>
    <div class="attr"><span>Manipulação</span><input class="small" type="number"></div>
  </div>
  <div class="attr-block"><div class="section-title">Mentais</div>
    <div class="attr"><span>Percepção</span><input class="small" type="number"></div>
    <div class="attr"><span>Inteligência</span><input class="small" type="number"></div>
    <div class="attr"><span>Raciocínio</span><input class="small" type="number"></div>
  </div>
</div>

<!-- PERICIAS + COMBATE -->
<div class="pericias-wrap">
  <div class="pericias">
    <div class="section-title">Perícias</div>
    <div id="pericias"></div>
    <button onclick="addPericia()">Adicionar Perícia</button>
  </div>

  <div class="combate">
    <div class="section-title">Combate</div>
    <table id="armas"><tr><th>Arma</th><th>Dano</th><th>Crítico</th><th>Distância</th><th>Tipo</th><th>Peso</th></tr></table>
    <button onclick="addArma()">Adicionar Arma</button>

    <div class="section-title" style="margin-top:18px">Status</div>
    <div class="status">
      <div class="status-box"><label>Vida</label><input type="number"></div>
      <div class="status-box"><label>Movimento</label><input type="number"></div>
      <div class="status-box"><label>Armadura</label><input type="number"></div>
      <div class="status-box"><label>Foco</label><input type="number"></div>
      <div class="status-box"><label>Energia</label><input type="number"></div>
    </div>

    <div class="section-title" style="margin-top:18px">Efeitos</div>
    <div class="effects-wrapper"><div class="effects" id="effects"></div></div>
  </div>
</div>

<!-- INVENTARIO -->
<div class="section">
  <div class="section-title">Inventário</div>
  <div id="inventario" class="list"></div>
  <button onclick="addItem()">Adicionar Item</button>
</div>

<!-- HABILIDADES -->
<div class="section">
  <div class="section-title">Habilidades</div>
  <div id="habilidades" class="list"></div>
  <button onclick="addHabilidade()">Adicionar Habilidade</button>
</div>

<!-- ETLANS -->
<div class="section">
  <div class="section-title">Habilidades ETLANS</div>
  <div id="etlans" class="list"></div>
  <button onclick="addEtlans()">Adicionar Etlans</button>
</div>

<!-- ARQUÉTIPO -->
<div class="section">
  <div class="section-title">Arquétipo</div>
  <input placeholder="Nome">
  <textarea placeholder="Descrição"></textarea>
</div>

<!-- HISTORICO -->
<div class="section">
  <div class="section-title">Histórico</div>
  <input placeholder="Nome">
  <textarea placeholder="Descrição"></textarea>
</div>

<!-- ANOTAÇÕES -->
<div class="section large-notes">
  <div class="section-title">Anotações</div>
  <textarea></textarea>
</div>
</div>

<div class="floating">
  <button onclick="toggleThemes()">TEMAS</button>
  <button onclick="saveSheet()">SALVAR</button>
</div>

<div class="theme-panel" id="themes">
  <div class="theme-circle" style="background:#ff5c5c" onclick="setTheme('red')"></div>
  <div class="theme-circle" style="background:#e6c15a" onclick="setTheme('gold')"></div>
  <div class="theme-circle" style="background:#4cd3a3" onclick="setTheme('emerald')"></div>
  <div class="theme-circle" style="background:#c97bff" onclick="setTheme('rose')"></div>
  <div class="theme-circle" style="background:#eaeaea" onclick="setTheme('white')"></div>
</div>

<div class="modal" id="modal">
  <div class="modal-content">
    <h3 id="modalTitle"></h3>
    <textarea id="modalDesc" placeholder="Descrição"></textarea>
    <button onclick="confirmDelete()">EXCLUIR</button>
    <button onclick="closeModal()">Fechar</button>
  </div>
</div>

<script>
const basePericias=["Acadêmicos","Arma à Distância","Arma Branca","Atletismo","Ciências","Direito","Empatia","Empatia c/ Animais","Esquiva","Etiqueta","Expressão","Finanças","Furtividade","Intimidação","Investigação","Lábia","Liderança","Linguística","Luta","Manha","Medicina","Ocultismo","Ofício","Performance","Política","Prontidão","Resistência","Sobrevivência"];
const efeitos=["Agarrado","Amedrontado","Atordoado","Caído","Cego","Envenenado","Impedido","Inconsciente","Paralisado","Surdo","Fraturado","Sangrando","Em Chamas","Enfeitiçado","Desconsciência"];
let targetDelete=null;

function toggleThemes(){const t=document.getElementById('themes');t.style.display=t.style.display==='flex'?'none':'flex'}
function setTheme(n){document.documentElement.setAttribute('data-theme',n);localStorage.setItem('theme',n)}

function saveSheet(){
  const data={inputs:[],checks:[],theme:localStorage.getItem('theme')||''};
  document.querySelectorAll('input,textarea').forEach(e=>data.inputs.push(e.value));
  document.querySelectorAll('input[type=checkbox]').forEach(c=>data.checks.push(c.checked));
  localStorage.setItem('etlansSheet',JSON.stringify(data));
  alert('Ficha salva localmente');
}
function loadSheet(){
  const raw=localStorage.getItem('etlansSheet');
  if(!raw)return;
  const d=JSON.parse(raw);
  document.querySelectorAll('input,textarea').forEach((e,i)=>{if(d.inputs[i]!=null)e.value=d.inputs[i]});
  document.querySelectorAll('input[type=checkbox]').forEach((c,i)=>{if(d.checks[i]!=null)c.checked=d.checks[i]});
  if(d.theme)setTheme(d.theme);
}

function openModal(t,e){targetDelete=e;document.getElementById('modalTitle').innerText=t;document.getElementById('modal').style.display='flex'}
function closeModal(){document.getElementById('modal').style.display='none';targetDelete=null}
function confirmDelete(){if(targetDelete)targetDelete.remove();closeModal()}

function addPericia(n="Nova Perícia"){
  const d=document.createElement('div');
  d.className='pericia';
  d.innerHTML=`<span contenteditable>${n}</span><input type="number" step="0.01">`;
  d.ondblclick=()=>openModal('Excluir Perícia',d);
  document.getElementById('pericias').appendChild(d);
}
function addArma(){
  const t=document.getElementById('armas');
  const r=t.insertRow();
  for(let i=0;i<6;i++){r.insertCell().innerHTML='<input>'}
  r.ondblclick=()=>openModal('Excluir Arma',r);
}
function addItem(){
  const d=document.createElement('div');
  d.className='list-item';
  d.innerHTML='<input placeholder="Item"><input placeholder="Peso"><input placeholder="Qtd"><textarea placeholder="Descrição"></textarea>';
  d.ondblclick=()=>openModal('Excluir Item',d);
  document.getElementById('inventario').appendChild(d);
}
function addHabilidade(){
  const d=document.createElement('div');
  d.className='list-item';
  d.innerHTML='<input placeholder="Nome"><input placeholder="Tipo"><input placeholder="Uso"><textarea placeholder="Descrição"></textarea>';
  d.ondblclick=()=>openModal('Excluir Habilidade',d);
  document.getElementById('habilidades').appendChild(d);
}
function addEtlans(){
  const d=document.createElement('div');
  d.className='list-item';
  d.innerHTML='<input placeholder="Nome"><input placeholder="Qtd"><input placeholder="Custo"><textarea placeholder="Descrição"></textarea>';
  d.ondblclick=()=>openModal('Excluir Etlans',d);
  document.getElementById('etlans').appendChild(d);
}

basePericias.forEach(p=>addPericia(p));
efeitos.forEach(e=>{const l=document.createElement('label');l.innerHTML=`<input type="checkbox"> ${e}`;document.getElementById('effects').appendChild(l)});
loadSheet();
</script>
</body>
</html>
